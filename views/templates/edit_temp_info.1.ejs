<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="<%= process.env.APP_URL %>/stylesheets/jumbotron-narrow.css">
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>

    <title>Edit Template Info</title>
</head>

<body>
    <div class="container" style="max-width: 100%">
        <div class="header clearfix">
            <nav>
                <ul class="nav nav-pills pull-right">
                    <li role="presentation" class="active"><a href="#">Home</a></li>
                    <li role="presentation"><a href="#">About</a></li>
                    <li role="presentation"><a href="#">Contact</a></li>
                </ul>
            </nav>
            <h3 class="text-muted">Project name</h3>
        </div>

        <div class="jumbotron">
            <h1><%= template.temp_name %></h1>
        </div>

        <div class="row marketing">
            <div class="col-md-5">
                <form action="<%= process.env.APP_URL %>/templates/edit-info-save" method="POST">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="">Label</label>
                                <input type="text" class="form-control" name="label" required accept="application/pdf">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="">Name</label>
                                <input class="form-control" name="name[]" min="0">
                            </div>
                        </div>
                    </div>

                </form>
            </div>

            <div class="col-md-7">
                <iframe onclick="getMouseXY(this)" id="IFRAME" src="<%= process.env.APP_URL %>/Google.pdf" width="100%"
                    height="972"></iframe>
            </div>

        </div>

        <footer class="footer">
            <p>&copy; 2016 Company, Inc.</p>
        </footer>

    </div> <!-- /container -->

</body>

</html>

<script>
    (function () {
        var iframepos = $("#IFRAME").position();

        $('#IFRAME').contents().find('html').on('mousemove', function (e) {
            var x = e.clientX + iframepos.left;
            var y = e.clientY + iframepos.top;
            console.log('In Side IFRAME', x, y);
        });
        document.onmousemove = handleMouseMove;

        function handleMouseMove(event) {
            var dot, eventDoc, doc, body, pageX, pageY;

            event = event || window.event; // IE-ism

            // If pageX/Y aren't available and clientX/Y are,
            // calculate pageX/Y - logic taken from jQuery.
            // (This is to support old IE)
            if (event.pageX == null && event.clientX != null) {
                eventDoc = (event.target && event.target.ownerDocument) || document;
                doc = eventDoc.documentElement;
                body = eventDoc.body;

                event.pageX = event.clientX +
                    (doc && doc.scrollLeft || body && body.scrollLeft || 0) -
                    (doc && doc.clientLeft || body && body.clientLeft || 0);
                event.pageY = event.clientY +
                    (doc && doc.scrollTop || body && body.scrollTop || 0) -
                    (doc && doc.clientTop || body && body.clientTop || 0);
            }

            console.log(event.pageX + " / " + event.pageY);
            elementMouseIsOver = document.elementFromPoint(event.pageX, event.pageY);
            if (elementMouseIsOver) {
                var theelement = $("#" + elementMouseIsOver.id);

                if (elementMouseIsOver.tagName != "HTML") {
                    var offset = theelement.offset();
                    console.log("element id : " + elementMouseIsOver.id);
                    console.log("on element");
                    console.log((event.pageX - offset.left) + " / " + (event.pageY - offset.top));
                }
            }
        }
    })();
</script>